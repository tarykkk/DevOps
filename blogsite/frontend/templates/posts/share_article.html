{% extends "base.html" %}

{% block page_title %}{{ page_title }}{% endblock %}

{% block main_content %}
{% if email_sent %}
    <div class="alert-success">
        <h2>‚úÖ Email —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!</h2>
        <p>
            –°—Ç–∞—Ç—Ç—é <strong>"{{ article.title }}"</strong> –±—É–ª–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –Ω–∞ –∞–¥—Ä–µ—Å—É 
            <strong>{{ form.cleaned_data.recipient_email }}</strong>
        </p>
        <p>
            <a href="{{ article.get_absolute_url }}" class="action-btn">
                ‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Å—Ç–∞—Ç—Ç—ñ
            </a>
        </p>
    </div>
{% else %}
    <h1>üìß –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —Å—Ç–∞—Ç—Ç–µ—é</h1>
    <p>–†–µ–∫–æ–º–µ–Ω–¥—É–π—Ç–µ —Å—Ç–∞—Ç—Ç—é <strong>"{{ article.title }}"</strong> —Å–≤–æ—ó–º –¥—Ä—É–∑—è–º –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—é –ø–æ—à—Ç–æ—é.</p>
    
    <div class="form-wrapper">
        <form method="post">
            {% csrf_token %}
            
            {% if form.non_field_errors %}
                <div style="color: var(--danger); margin-bottom: 20px;">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}
            
            <div class="form-group">
                {{ form.sender_name.label_tag }}
                {{ form.sender_name }}
                {% if form.sender_name.errors %}
                    <span style="color: var(--danger); font-size: 0.875rem;">
                        {{ form.sender_name.errors.0 }}
                    </span>
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.sender_email.label_tag }}
                {{ form.sender_email }}
                {% if form.sender_email.errors %}
                    <span style="color: var(--danger); font-size: 0.875rem;">
                        {{ form.sender_email.errors.0 }}
                    </span>
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.recipient_email.label_tag }}
                {{ form.recipient_email }}
                {% if form.recipient_email.errors %}
                    <span style="color: var(--danger); font-size: 0.875rem;">
                        {{ form.recipient_email.errors.0 }}
                    </span>
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.message.label_tag }}
                {{ form.message }}
                {% if form.message.errors %}
                    <span style="color: var(--danger); font-size: 0.875rem;">
                        {{ form.message.errors.0 }}
                    </span>
                {% endif %}
            </div>
            
            <button type="submit" class="submit-btn">
                –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ email
            </button>
        </form>
    </div>
{% endif %}
{% endblock %}