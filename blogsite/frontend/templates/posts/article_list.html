{% extends "base.html" %}

{% block page_title %}{{ page_title }}{% endblock %}

{% block main_content %}
<h1>üìù –û—Å—Ç–∞–Ω–Ω—ñ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó</h1>

{% for article in articles %}
    <article class="article-item">
        <h2>
            <a href="{{ article.get_absolute_url }}">
                {{ article.title }}
            </a>
        </h2>
        
        <div class="meta-info">
            –û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ <strong>{{ article.published_at|date:"d E Y" }}</strong> 
            –∞–≤—Ç–æ—Ä–æ–º <strong>{{ article.author.get_full_name|default:article.author.username }}</strong>
        </div>
        
        <div class="article-excerpt">
            {{ article.content|truncatewords:40|linebreaks }}
        </div>
    </article>
{% empty %}
    <p class="no-feedback">–°—Ç–∞—Ç—Ç—ñ —â–µ –Ω–µ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ.</p>
{% endfor %}

{% if page_obj.has_other_pages %}
<div class="pagination-wrapper">
    <nav class="pagination-controls">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="pagination-btn">
                ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è
            </a>
        {% else %}
            <span></span>
        {% endif %}
        
        <span class="page-indicator">
            –°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ page_obj.paginator.num_pages }}
        </span>
        
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="pagination-btn">
                –ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí
            </a>
        {% endif %}
    </nav>
</div>
{% endif %}
{% endblock %}